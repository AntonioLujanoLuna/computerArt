/* components/controls.css */ 
.controls {
    position: fixed; /* Or absolute if positioning relative to #simulation-view */
    bottom: 20px;
    right: 20px;
    background-color: rgba(44, 62, 80, 0.8); /* Semi-transparent dark blue-grey */
    /* padding: 15px; -- Padding will be managed by content and drag handle */
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    z-index: 100; /* Ensure it's above other elements */

    /* Flex properties for internal layout of buttons/slider */
    display: flex;
    flex-direction: column; /* Stack controls vertically in the panel */
    /* align-items: flex-start; -- Let content determine alignment, or set width for children */
    gap: 10px; 
    resize: both; 
    overflow: auto; 
    min-width: 220px; 
    min-height: 200px; /* Adjusted min-height */
}

.controls .drag-handle {
    width: calc(100% + 30px); /* Span full width, adjust for negative margin */
    margin: -15px -15px 0 -15px; /* Pull to edges, assuming 15px padding on parent */
    padding: 8px 15px;
    background-color: rgba(0,0,0,0.2);
    text-align: center;
    font-size: 0.8em;
    color: rgba(255,255,255,0.7);
    cursor: grab;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
    margin-bottom: 10px; /* Space after handle */
}

/* Adjust padding for content area below drag handle */
.controls > *:not(.drag-handle) {
    padding-left: 15px;
    padding-right: 15px;
}
.controls > button,
.controls > .speed-control-group,
.controls > label.rules-label,
.controls > textarea {
    width: calc(100% - 30px); /* Account for padding */
    box-sizing: border-box;
}
.controls > div:last-child { /* For random rules group */
    padding-bottom:15px;
}

.controls button {
    background-color: #e74c3c; 
    color: white;
    border: none;
    padding: 8px 12px; /* Slightly adjusted padding */
    border-radius: 5px;
    cursor: pointer;
    font-size: 0.9em;
    transition: background-color 0.2s ease;
    width: 100%; /* Make buttons fill panel width */
    text-align: left;
}

.controls button:hover {
    background-color: #c0392b; 
}

.controls label {
    font-size: 0.9em;
    color: #ecf0f1; /* Light text for label */
    /* margin-left: 0; /* Reset margin-left if stacking vertically */
}

.controls .speed-control-group { /* Group label and slider */
    display: flex;
    align-items: center;
    width: 100%;
    gap: 8px;
}

.controls input[type="range"] {
    cursor: pointer;
    vertical-align: middle; 
    flex-grow: 1; /* Allow slider to take available space in its group */
}

/* No direct input[type="checkbox"] styling as it was removed */ 

.controls label.rules-label {
    font-size: 0.9em;
    color: #ecf0f1;
    margin-bottom: 5px; /* Space before textarea */
    font-weight: bold;
}

.controls textarea {
    width: 100%; /* Fill panel width */
    background-color: rgba(0,0,0,0.2);
    color: #ecf0f1;
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 4px;
    padding: 8px;
    font-family: var(--font-mono, monospace);
    font-size: 0.85em;
    resize: vertical; /* Allow vertical resize */
    min-height: 60px;
}

/* Ensure buttons after textarea also have some top margin if needed, though `gap` in .controls should handle it */ 